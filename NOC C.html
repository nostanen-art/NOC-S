<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rental Listing Agreement - Editable</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }
        .container {
            background-color: white;
            padding: 30px;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .company-header {
            /* This CSS rule ensures the content is centered */
            text-align: center;
            margin-bottom: 10px;
        }
        .company-header h2 {
            font-size: 36px;
            color: black;
            margin: 0;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .header h1 {
            background-color: #f7a01d;
            color: blue;
            padding: 10px 0;
            margin: 0;
            font-size: 24px;
            border-radius: 5px;
        }
        .section-heading {
            font-size: 18px;
            font-weight: bold;
            margin-top: 20px;
            margin-bottom: 10px;
            border-bottom: 2px solid #333;
            padding-bottom: 5px;
        }
        .field-row {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 10px;
            align-items: center;
        }
        .field-row label {
            font-weight: bold;
            min-width: 150px;
        }
        .field-row input[type="text"] {
            flex-grow: 1;
            padding: 5px;
            border: none;
            border-bottom: 1px dotted #333;
            margin-left: 10px;
            min-width: 150px;
        }
        /* Style for Editable Name Fields */
        .editable-name {
            font-weight: bold;
            margin-bottom: 5px;
            outline: none; /* Remove focus outline */
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 5px; 
        }
        .checkbox-group label {
            font-weight: normal;
            display: flex;
            align-items: center;
            margin-right: 15px;
        }
        .checkbox-group input[type="checkbox"] {
            margin-right: 2px;
        }
        .terms {
            margin-top: 30px;
            border-top: 1px solid #ccc;
            padding-top: 15px;
        }
        .signature-area {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-bottom: 20px;
        }
        .signature-block {
            width: 45%;
        }
        .signature-block .name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .signature-line {
            border-bottom: 1px solid #000;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        .signature-line img {
            max-height: 100%;
            max-width: 100%;
            object-fit: contain;
        }
        .upload-controls {
            margin-top: 5px;
            text-align: center;
        }

        /* --- Button Styling --- */
        .action-buttons {
            text-align: center;
            margin-top: 30px;
            margin-bottom: 30px;
        }
        .action-buttons button {
            padding: 10px 20px;
            margin: 0 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
        }
        .print-save-btn {
            background-color: #007bff;
            color: white;
        }
        .upload-btn-label {
            background-color: #28a745;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            display: inline-block;
        }
        .signature-upload-input {
            display: none;
        }
        
        /* New Colored Lines */
        .full-width-line {
            height: 5px; 
            width: 100vw; 
            position: relative;
            left: 50%;
            right: 50%;
            margin-left: -50vw; 
            margin-right: -50vw;
            margin-top: 20px; 
            margin-bottom: 20px; 
            z-index: 10;
        }
        .green-line {
            background-color: green;
        }
        .red-line {
            background-color: red;
        }

        /* Contact Footer specific styles */
        .contact-footer {
            text-align: center;
            margin-top: 10px; 
            padding-top: 10px;
        }
        .contact-footer strong {
            font-weight: bold;
        }

        /* Optimize for Print (FIXED LAYOUT & LINES) */
        @media print {
            .action-buttons, .upload-controls {
                display: none !important;
            }
            body {
                margin: 0 !important;
                padding: 0 !important;
                background-color: white;
                transform: scale(0.92); 
                transform-origin: top left;
            }
            .container {
                box-shadow: none;
                border: none;
                padding: 5px;
                width: 100%;
                transform: none; 
            }
            @page {
                margin: 0.3cm !important; 
            }
            ol li, p {
                page-break-inside: avoid;
            }
            .full-width-line {
                display: block;
                width: 100%;
                margin-left: 0;
                margin-right: 0;
                position: static;
                left: auto;
                right: auto;
                margin-top: 5px; 
                margin-bottom: 5px;
            }
            .contact-footer {
                margin-top: 5px; 
            }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="company-header">
        <h2>E B M S REAL ESTATE L.L.C</h2>
    </div>

    <div class="header">
        <h1>Rental Listing Agreement</h1>
    </div>

    <div class="field-row">
        <label>Date :</label> <input type="text" value="08 Aug 2024" style="flex-grow: 0; width: 150px;">
        <label style="margin-left: auto;">Ref No :</label> <input type="text" value="RHR-291-2024" style="flex-grow: 0; width: 200px;">
    </div>

    <div class="field-row">
        <label>Landlord Name:</label> <input type="text" value="Dubai Developments">
    </div>

    <div class="field-row">
        <label>Emirates ID No:</label> <input type="text" value="EID No" style="width: 200px; flex-grow: 0;">
        <label style="margin-left: 20px;">Expiry Date Date:</label> <input type="text" value="DD.MM.YY." style="width: 200px; flex-grow: 0;">
    </div>

    <div class="section-heading">Property Details</div>

    <div class="field-row checkbox-group">
        <label><input type="checkbox">Villa</label>
        <label><input type="checkbox">Apartment</label>
        <label><input type="checkbox">Shop</label>
        <label><input type="checkbox" checked>Full Building</label>
        <label><input type="checkbox">Vacant</label>
        <label><input type="checkbox">Furnished</label>
        <label><input type="checkbox">Unfurnished</label>
    </div>

    <div class="field-row">
        <label>Building Name:</label> <input type="text" value="Saeed Bin Thani Building">
        <label style="margin-left: auto;">Unit No:</label> <input type="text" value="No" style="width: 100px; flex-grow: 0;">
    </div>

    <div class="field-row">
        <label>Community</label> <input type="text" value="Trade Centre First">
        <label style="margin-left: 20px;">Street Name</label> <input type="text" value="Sheikh Zayed Road">
    </div>

    <div class="field-row">
        <label>Bedrooms:</label> <input type="text" value="No" style="width: 100px; flex-grow: 0;">
        <label style="margin-left: 20px;">Bathrooms:</label> <input type="text" value="No." style="width: 100px; flex-grow: 0;">
        <label style="margin-left: 20px;">Parking:</label> <input type="text" value="No" style="width: 100px; flex-grow: 0;">
    </div>

    <div class="field-row">
        <label>Rental Amount: /- AED</label> <input type="text" value="">
    </div>

    <div class="section-heading">Terms and Conditions</div>

    <ol class="terms">
        <li>The landlord/ legal representing has agreed to appoint <span contenteditable="true" class="editable-name">Mr. XYZ CEO of E B M S Real Estate L.L.C.</span> Broer to list and advertise the above for a period of:</li>
        <div class="field-row checkbox-group" style="margin-top: 10px; margin-left: 20px;">
            <label><input type="checkbox" id="exclusive-check">Exclusive</label> 
            <label><input type="checkbox" checked>Non-Exclusive</label>
            <label><input type="checkbox">1 Month</label>
            <label><input type="checkbox" id="2months-check">2 Months</label>
            <label><input type="checkbox" checked>3 Months</label>
            <label>or Until</label><input type="text" value="07/Aug/2025" style="width: 120px; flex-grow: 0; margin-left: 0;">
        </div>
        <li>I, the under signed confirm that I am the owner of the above property and / or have legal authority to sign on behalf of the named Owner(s)</li>
        <li>This agreement may be terminated by either party at any time upon seven **(7) days written notice** to the other party</li>
    </ol>

    <div class="signature-area">
        <div class="signature-block">
            <div class="name">Landlord Name: <span contenteditable="true" class="editable-name">M.r XYZ</span></div>
            <label>Signature:</label>
            <div class="signature-line" id="landlord-signature">  </div>
            <div class="upload-controls">
                <input type="file" id="landlord-upload-input" class="signature-upload-input" accept="image/*" data-target="landlord-signature">
                <label for="landlord-upload-input" class="upload-btn-label"> Signature/Stamp</label>
            </div>
        </div>

        <div class="signature-block">
            <div class="name">Agent Name: <span contenteditable="true" class="editable-name">XYZ</span></div>
            <label>Signature:</label>
            <div class="signature-line" id="agent-signature">  </div>
            <div class="upload-controls">
                <input type="file" id="agent-upload-input" class="signature-upload-input" accept="image/*" data-target="agent-signature">
                <label for="agent-upload-input" class="upload-btn-label">Signature/Stamp</label>
            </div>
        </div>
    </div>
    
    <div class="action-buttons">
        <button class="print-save-btn" onclick="window.print()">Print & Save as PDF</button>
    </div>

    <div class="full-width-line green-line"></div>
    <div class="full-width-line red-line"></div>

    <div class="contact-footer">
        <strong>Tel: +971 4 3839112</strong> | <strong>Email:</strong>info@ebmsrealestate.com | <strong>Web:</strong> www.ebmsrealestate.com
        <br>
        <strong>Dubai - United Arab Emirates</strong>
    </div>

</div>

<script>
    // Signature Upload Logic
    const signatureInputs = document.querySelectorAll('.signature-upload-input');

    signatureInputs.forEach(input => {
        input.addEventListener('change', function(event) {
            const file = event.target.files[0];
            const targetId = event.target.getAttribute('data-target');
            const targetDiv = document.getElementById(targetId);

            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const signatureImageURL = e.target.result;
                    
                    // Clear existing content and insert the new image
                    targetDiv.innerHTML = `<img src="${signatureImageURL}" alt="Signature/Stamp">`;
                };
                reader.readAsDataURL(file);
            }
        });
    });
</script>

</body>
</html>
